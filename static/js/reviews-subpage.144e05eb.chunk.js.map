{"version":3,"file":"static/js/reviews-subpage.144e05eb.chunk.js","mappings":"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","sources":["components/DetailedCard/DetailedCard.styled.js","components/Review/Review.styled.js","components/Review/Review.jsx","components/ReviewList/ReviewList.styled.js","components/ReviewList/ReviewList.jsx","pages/ReviewsSubPage.jsx","services/moviesAPI.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\n\nexport const Title = styled.h2`\n  text-align: center;\n  margin: 35px 0 25px 0;\n  font-size: 28px;\n  font-weight: 500;\n  color: #99a9ff;\n\n  @media (min-width: 768px) {\n    margin: 25px 0;\n  }\n`;\n\nexport const Image = styled.img`\n  border-radius: 5px;\n  @media (max-width: 767px) {\n    margin-bottom: 20px;\n  }\n`;\n\nexport const Wrap = styled.div`\n  @media (min-width: 768px) {\n    display: flex;\n    gap: 50px;\n    margin-bottom: 30px;\n  }\n`;\n\nexport const SmallWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  gap: 10px;\n`;\n\nexport const Span = styled.span`\n  font-weight: 500;\n  font-size: 18px;\n  letter-spacing: 0.1em;\n  color: #99a9ff;\n\n  @media (min-width: 768px) {\n    font-size: 20px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 24px;\n  }\n`;\n\nexport const Text = styled.p`\n  font-size: 16px;\n  line-height: 1.45;\n\n  @media (min-width: 768px) {\n    font-size: 18px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 20px;\n  }\n`;\n\nexport const AdditionalTitle = styled.h3`\n  text-align: center;\n  margin-bottom: 30px;\n  font-weight: 500;\n  font-size: 24px;\n  color: #99a9ff;\n\n  @media (min-width: 768px) {\n    font-size: 26px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 28px;\n  }\n\n  &::before {\n    content: '';\n    display: block;\n    margin: 25px auto;\n    width: 100%;\n    height: 1px;\n    background: linear-gradient(\n      to right,\n      rgba(128, 147, 255, 0.25) 15%,\n      rgba(125, 155, 250, 1) 40%,\n      rgba(96, 219, 212, 0.8) 65%,\n      rgba(92, 228, 207, 0.15)\n    );\n\n    @media (min-width: 768px) {\n      width: 750px;\n      margin: 0 auto 25px auto;\n    }\n  }\n`;\n\nexport const List = styled.ul`\n  display: flex;\n  justify-content: center;\n  gap: 50px;\n  margin-bottom: 50px;\n`;\n\nexport const AdditionalLink = styled(Link)`\n  font-size: 20px;\n  text-transform: lowercase;\n  color: #5ce4cf;\n\n  @media (min-width: 768px) {\n    font-size: 22px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 24px;\n  }\n`;\n\nexport const StyledContainer = styled(ToastContainer)`\n  .Toastify__toast {\n    background-color: #232526;\n    color: #5ce4cf;\n    border: 1px solid #99a9ff;\n  }\n  .Toastify__close-button {\n    color: #5ce4cf;\n  }\n  .Toastify__progress-bar {\n    background: linear-gradient(\n      to right,\n      rgba(128, 147, 255, 0.25),\n      rgba(125, 155, 250, 1),\n      rgba(96, 219, 212, 0.8),\n      rgba(92, 228, 207, 0.15)\n    );\n  }\n`;\n","import styled from 'styled-components';\n\nexport const Title = styled.h3`\n  text-align: center;\n  font-size: 20px;\n  font-weight: 500;\n  @media (min-width: 768px) {\n    font-size: 22px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 26px;\n  }\n`;\n\nexport const Notification = styled.p`\n  font-size: 24px;\n  text-align: center;\n`;\n","import PropTypes from 'prop-types';\nimport { Span, Text } from 'components/DetailedCard/DetailedCard.styled';\nimport { Title } from './Review.styled';\n\nexport const Review = ({ author, content }) => {\n  return (\n    <>\n      <Title>\n        <Span>Author: </Span>\n        {author}\n      </Title>\n      <Text>{content}</Text>\n    </>\n  );\n};\n\nReview.propTypes = {\n  author: PropTypes.string,\n  content: PropTypes.string,\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n`;\n","import PropTypes from 'prop-types';\nimport { Review } from 'components/Review/Review';\nimport { List } from './ReviewList.styled';\n\nexport const ReviewList = ({ reviews }) => {\n  return (\n    <List>\n      {reviews.map(({ id, author, content }) => (\n        <Review key={id} author={author} content={content} />\n      ))}\n    </List>\n  );\n};\n\nReviewList.propTypes = {\n  reviews: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      author: PropTypes.string,\n      content: PropTypes.string,\n    })\n  ),\n};\n","import { useParams } from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport { getMovieReviews } from 'services/moviesAPI';\nimport { ReviewList } from 'components/ReviewList/ReviewList';\nimport { Notification } from 'components/Review/Review.styled';\nimport { Loader } from 'components/Loader/Loader';\n\nconst ReviewsSubPage = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const doOneFetch = useRef(null);\n\n  useEffect(() => {\n    const loadReviews = async () => {\n      setIsLoading(true);\n      const data = await getMovieReviews(movieId);\n      const arrayOfReviews = data.map(({ author, content, id }) => ({\n        author,\n        content,\n        id,\n      }));\n\n      setReviews(arrayOfReviews);\n      setIsLoading(false);\n    };\n\n    if (doOneFetch.current === null) {\n      loadReviews();\n      doOneFetch.current = 1;\n    }\n  }, [movieId]);\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      {reviews.length === 0 && !isLoading ? (\n        <Notification>\n          We don't have any reviews for this movie yet :(\n        </Notification>\n      ) : (\n        <ReviewList reviews={reviews} />\n      )}\n    </>\n  );\n};\n\nexport default ReviewsSubPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/';\nconst API_KEY = 'd929b7a4b435aa22496bb0793b172bfc';\n\nexport async function getTrendingMovies() {\n  try {\n    const { data } = await axios('3/trending/movie/day', {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getMovieByQuery(query, page = 1) {\n  try {\n    const { data } = await axios('3/search/movie', {\n      params: {\n        api_key: API_KEY,\n        query,\n        page,\n      },\n    });\n    console.log(data);\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getOneMovieById(id) {\n  try {\n    const { data } = await axios(`3/movie/${id}`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getMovieActors(id) {\n  try {\n    const { data } = await axios(`3/movie/${id}/credits`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return data.cast;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getMovieReviews(id) {\n  try {\n    const { data } = await axios(`3/movie/${id}/reviews`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getTrendingPersons() {\n  try {\n    const { data } = await axios('3/trending/person/week', {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["Title","styled","Image","Wrap","SmallWrap","Span","Text","AdditionalTitle","List","AdditionalLink","Link","StyledContainer","ToastContainer","Notification","Review","author","content","ReviewList","reviews","map","id","movieId","useParams","useState","setReviews","isLoading","setIsLoading","doOneFetch","useRef","useEffect","loadReviews","getMovieReviews","data","arrayOfReviews","current","Loader","length","axios","API_KEY","getTrendingMovies","params","api_key","results","console","error","getMovieByQuery","query","page","log","getOneMovieById","getMovieActors","cast","getTrendingPersons"],"sourceRoot":""}