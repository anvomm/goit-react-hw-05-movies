{"version":3,"file":"static/js/movies-page.0c807528.chunk.js","mappings":"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","sources":["components/DetailedCard/DetailedCard.styled.js","components/MovieCard/MovieCard.styled.js","components/MovieCard/MovieCard.jsx","components/MoviesCardsList/MoviesCardsList.jsx","components/MoviesCardsList/MoviesCardsList.styled.js","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","components/Pagination/Pagination.styled.js","pages/MoviesPage.jsx","services/moviesAPI.js"],"sourcesContent":["import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\n\nexport const Title = styled.h2`\n  text-align: center;\n  margin: 35px 0 25px 0;\n  font-size: 28px;\n  font-weight: 500;\n  color: #99a9ff;\n\n  @media (min-width: 768px) {\n    margin: 25px 0;\n  }\n`;\n\nexport const Image = styled.img`\n  border-radius: 5px;\n  @media (max-width: 767px) {\n    margin-bottom: 20px;\n  }\n  @media (min-width: 768px) {\n    align-self: flex-start;\n  }\n`;\n\nexport const Wrap = styled.div`\n  @media (min-width: 768px) {\n    display: flex;\n    gap: 50px;\n    margin-bottom: 30px;\n  }\n`;\n\nexport const SmallWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  gap: 10px;\n`;\n\nexport const Span = styled.span`\n  font-weight: 500;\n  font-size: 18px;\n  letter-spacing: 0.1em;\n  color: #99a9ff;\n\n  @media (min-width: 768px) {\n    font-size: 20px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 24px;\n  }\n`;\nexport const Div = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  font-weight: 500;\n  font-size: 18px;\n  letter-spacing: 0.1em;\n  color: #99a9ff;\n\n  @media (min-width: 768px) {\n    font-size: 20px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 24px;\n  }\n`;\n\nexport const Text = styled.p`\n  font-size: 16px;\n  line-height: 1.45;\n\n  @media (min-width: 768px) {\n    font-size: 18px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 20px;\n  }\n`;\n\nexport const AdditionalTitle = styled.h3`\n  text-align: center;\n  margin-bottom: 30px;\n  font-weight: 500;\n  font-size: 24px;\n  color: #99a9ff;\n\n  @media (min-width: 768px) {\n    font-size: 26px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 28px;\n  }\n\n  &::before {\n    content: '';\n    display: block;\n    margin: 25px auto;\n    width: 100%;\n    height: 1px;\n    background: linear-gradient(\n      to right,\n      rgba(128, 147, 255, 0.25) 15%,\n      rgba(125, 155, 250, 1) 40%,\n      rgba(96, 219, 212, 0.8) 65%,\n      rgba(92, 228, 207, 0.15)\n    );\n\n    @media (min-width: 768px) {\n      width: 750px;\n      margin: 0 auto 25px auto;\n    }\n  }\n`;\n\nexport const List = styled.ul`\n  display: flex;\n  justify-content: center;\n  gap: 50px;\n  margin-bottom: 50px;\n`;\n\nexport const AdditionalLink = styled(Link)`\n  font-size: 20px;\n  text-transform: lowercase;\n  color: #5ce4cf;\n\n  @media (min-width: 768px) {\n    font-size: 22px;\n  }\n  @media (min-width: 1280px) {\n    font-size: 24px;\n  }\n`;\n\nexport const StyledContainer = styled(ToastContainer)`\n  .Toastify__toast {\n    background-color: #232526;\n    color: #5ce4cf;\n    border: 1px solid #99a9ff;\n  }\n  .Toastify__close-button {\n    color: #5ce4cf;\n  }\n  .Toastify__progress-bar {\n    background: linear-gradient(\n      to right,\n      rgba(128, 147, 255, 0.25),\n      rgba(125, 155, 250, 1),\n      rgba(96, 219, 212, 0.8),\n      rgba(92, 228, 207, 0.15)\n    );\n  }\n`;\n\nexport const Video = styled.iframe`\n  width: 280px;\n  height: 157px;\n  margin: 0 auto;\n\n  @media (min-width: 768px) {\n    width: 448px;\n    height: 252px;\n    margin: 0;\n  }\n  @media (min-width: 1280px) {\n    width: 504px;\n    height: 284px;\n  }\n`;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Image = styled.img`\n  border-radius: 5px 5px 0 0;\n  width: 200px;\n  @media (min-width: 300px) {\n    width: 285px;\n  }\n`;\n\nexport const CardLink = styled(Link)`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n  border-radius: 5px;\n  transition: box-shadow 250ms linear;\n\n  &:hover,\n  &:focus {\n    box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.12), 0px 4px 4px rgba(0, 0, 0, 0.06),\n      1px 4px 6px rgba(0, 0, 0, 0.16);\n  }\n`;\n\nexport const CardBottom = styled.div`\n  padding: 20px;\n  flex-grow: 1;\n  max-height: 120px;\n`;\n\nexport const CardTitle = styled.h2`\n  font-size: 22px;\n  font-weight: 500;\n  line-height: 1.33;\n  text-align: center;\n`;\n\nexport const Rating = styled.div`\n  margin-top: 15px;\n  display: flex;\n  justify-content: center;\n`;\n","import { useLocation } from 'react-router-dom';\nimport { IconContext } from 'react-icons';\nimport { HiStar } from 'react-icons/hi';\nimport PropTypes from 'prop-types';\nimport {\n  Image,\n  CardLink,\n  CardBottom,\n  CardTitle,\n  Rating,\n} from './MovieCard.styled';\n\nexport const MovieCard = ({ id, title, poster, rating }) => {\n  const location = useLocation();\n\n  const getImgUrl = image => {\n    if (image === null) {\n      return 'https://img.icons8.com/pastel-glyph/512/film-reel--v2.png';\n    }\n    return `https://image.tmdb.org/t/p/w300${image}`;\n  };\n\n  return (\n    <CardLink to={`/movies/${id}`} state={{ from: location }}>\n      <Image src={getImgUrl(poster)} alt={title} width={200} />\n      <CardBottom>\n        <CardTitle>{title}</CardTitle>\n        <Rating>\n          <IconContext.Provider\n            value={{\n              size: 25,\n              color: Math.round(rating) >= 1 ? '#FF971D' : 'grey',\n            }}\n          >\n            <HiStar />\n          </IconContext.Provider>\n          <IconContext.Provider\n            value={{\n              size: 25,\n              color: Math.round(rating) >= 2 ? '#FF971D' : 'grey',\n            }}\n          >\n            <HiStar />\n          </IconContext.Provider>\n          <IconContext.Provider\n            value={{\n              size: 25,\n              color: Math.round(rating) >= 3 ? '#FF971D' : 'grey',\n            }}\n          >\n            <HiStar />\n          </IconContext.Provider>\n          <IconContext.Provider\n            value={{\n              size: 25,\n              color: Math.round(rating) >= 4 ? '#FF971D' : 'grey',\n            }}\n          >\n            <HiStar />\n          </IconContext.Provider>\n          <IconContext.Provider\n            value={{\n              size: 25,\n              color: Math.round(rating) >= 5 ? '#FF971D' : 'grey',\n            }}\n          >\n            <HiStar />\n          </IconContext.Provider>\n        </Rating>\n      </CardBottom>\n    </CardLink>\n  );\n};\n\nMovieCard.propTypes = {\n  id: PropTypes.number,\n  title: PropTypes.string,\n  poster: PropTypes.string,\n  rating: PropTypes.number,\n};\n","import PropTypes from 'prop-types';\nimport { MovieCard } from 'components/MovieCard/MovieCard';\nimport { List, Card } from './MoviesCardsList.styled';\n\nexport const MoviesCardsList = ({ movies }) => {\n  return (\n    <List>\n      {movies.map(({ id, title, poster_path, vote_average }) => (\n        <Card key={id}>\n          <MovieCard\n            id={id}\n            title={title}\n            poster={poster_path}\n            rating={vote_average}\n          />\n        </Card>\n      ))}\n    </List>\n  );\n};\n\nMoviesCardsList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      title: PropTypes.string,\n      poster: PropTypes.string,\n      date: PropTypes.string,\n    })\n  ),\n};\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 15px;\n`;\n\nexport const Card = styled.li`\n  width: 200px;\n  background-color: #232526;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border-radius: 5px;\n\n  @media (min-width: 300px) {\n    width: 285px;\n  }\n`;\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n`;\n\nexport const Input = styled.input`\n  @media (max-width: 479px) {\n    width: 150px;\n  }\n  width: 357px;\n  padding-left: 35px;\n  margin-bottom: 50px;\n  font-size: 18px;\n  outline: none;\n  background-color: inherit;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  border-bottom: 2px solid transparent;\n  border-image: linear-gradient(\n    0.25turn,\n    rgba(128, 147, 255, 0),\n    rgba(125, 155, 250, 1),\n    rgba(96, 219, 212, 1),\n    rgba(92, 228, 207, 0)\n  );\n  border-image-slice: 1;\n  color: #fff;\n`;\n\nexport const Button = styled.button`\n  background-color: inherit;\n  transition: transform 250ms linear;\n  margin-bottom: 50px;\n\n  &:hover,\n  &:focus {\n    transform: scale(1.15);\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { IconContext } from 'react-icons';\nimport { BiSearchAlt } from 'react-icons/bi';\nimport { Input, Button, Form } from './SearchForm.styled';\n\nexport const SearchForm = ({ showMovies }) => {\n  const handleSubmit = e => {\n    e.preventDefault();\n    const query = e.target.elements.query.value;\n    if (query.trim() === '') {\n      return notifyAboutWhitespace();\n    }\n    showMovies(e.target.elements.query.value);\n    e.target.reset();\n  };\n\n  const notifyAboutWhitespace = () => {\n    toast('Your search query should contain at least one letter!', {\n      position: 'top-center',\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      theme: 'dark',\n    });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input type=\"text\" name=\"query\" autoComplete=\"off\" required />\n      <Button>\n        <IconContext.Provider\n          value={{\n            size: 35,\n            color: '#99a9ff',\n          }}\n        >\n          <BiSearchAlt />\n        </IconContext.Provider>\n      </Button>\n    </Form>\n  );\n};\n\nSearchForm.propTypes = {\n  showMovies: PropTypes.func,\n};\n","import ReactPaginate from 'react-paginate';\nimport styled from 'styled-components';\n\nexport const Pagination = styled(ReactPaginate)`\n  width: 300px;\n  margin: 70px auto 0 auto;\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n  color: #99a9ff;\n\n  @media (min-width: 768px) {\n    width: 500px;\n  }\n\n  @media (min-width: 1280px) {\n    width: 700px;\n  }\n`;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getMovieByQuery } from 'services/moviesAPI';\nimport { SearchForm } from 'components/SearchForm/SearchForm';\nimport { MoviesCardsList } from 'components/MoviesCardsList/MoviesCardsList';\nimport { Loader } from 'components/Loader/Loader';\nimport { Pagination } from 'components/Pagination/Pagination.styled';\nimport { IconContext } from 'react-icons';\nimport { RxDoubleArrowLeft } from 'react-icons/rx';\nimport { RxDoubleArrowRight } from 'react-icons/rx';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { StyledContainer } from 'components/DetailedCard/DetailedCard.styled';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryParam = searchParams.get('query');\n  const pageParam = searchParams.get('page');\n\n  const [pageCount, setPageCount] = useState(0);\n\n  useEffect(() => {\n    const fetchMoviesOnSearch = async () => {\n      setIsLoading(true);\n      const arrayOfMovies = await getMovieByQuery(queryParam, pageParam);\n      const newPageCount = arrayOfMovies.total_pages;\n\n      if (arrayOfMovies.results.length === 0) {\n        setIsLoading(false);\n        return notifyAboutWrongQuery();\n      }\n\n      const arrayOfMovieTitles = arrayOfMovies.results.map(\n        ({ id, title, poster_path, vote_average, release_date }) => ({\n          id,\n          title,\n          poster_path,\n          vote_average,\n          release_date,\n        })\n      );\n      setMovies(arrayOfMovieTitles);\n      setPageCount(newPageCount);\n      setIsLoading(false);\n    };\n\n    if (queryParam) {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n      fetchMoviesOnSearch();\n    }\n  }, [queryParam, pageParam]);\n\n  const handlePageChange = event => {\n    setSearchParams({ query: queryParam, page: event.selected + 1 });\n  };\n\n  const showMoviesOnSearch = query => {\n    setSearchParams({ query, page: 1 });\n    setMovies([]);\n  };\n\n  const notifyAboutWrongQuery = () => {\n    toast('No movies found, please try another search query!', {\n      position: 'top-center',\n      autoClose: 3000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      theme: 'dark',\n    });\n  };\n\n  return (\n    <>\n      <SearchForm showMovies={showMoviesOnSearch} />\n      {isLoading && <Loader />}\n      {movies && <MoviesCardsList movies={movies} />}\n      {movies.length > 0 && (\n        <Pagination\n          previousLabel={\n            <IconContext.Provider\n              value={{\n                size: 25,\n              }}\n            >\n              <RxDoubleArrowLeft />\n            </IconContext.Provider>\n          }\n          nextLabel={\n            <IconContext.Provider\n              value={{\n                size: 25,\n              }}\n            >\n              <RxDoubleArrowRight />\n            </IconContext.Provider>\n          }\n          pageClassName=\"page-item\"\n          pageLinkClassName=\"page-link\"\n          previousClassName=\"page-item\"\n          previousLinkClassName=\"page-link\"\n          nextClassName=\"page-item\"\n          nextLinkClassName=\"page-link\"\n          breakLabel=\"...\"\n          breakClassName=\"page-item\"\n          breakLinkClassName=\"page-link\"\n          pageCount={pageCount}\n          marginPagesDisplayed={2}\n          pageRangeDisplayed={5}\n          disableInitialCallback={true}\n          onPageChange={handlePageChange}\n          containerClassName=\"pagination\"\n          activeClassName=\"active\"\n          forcePage={pageParam - 1}\n        />\n      )}\n      <StyledContainer />\n    </>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/';\nconst API_KEY = 'd929b7a4b435aa22496bb0793b172bfc';\n\nexport async function getTrendingMovies() {\n  try {\n    const { data } = await axios('3/trending/movie/day', {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getMovieByQuery(query, page = 1) {\n  try {\n    const { data } = await axios('3/search/movie', {\n      params: {\n        api_key: API_KEY,\n        query,\n        page,\n      },\n    });\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getOneMovieById(id) {\n  try {\n    const { data } = await axios(`3/movie/${id}`, {\n      params: {\n        api_key: API_KEY,\n        append_to_response: 'videos',\n      },\n    });\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getMovieActors(id) {\n  try {\n    const { data } = await axios(`3/movie/${id}/credits`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return data.cast;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getMovieReviews(id) {\n  try {\n    const { data } = await axios(`3/movie/${id}/reviews`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport async function getTrendingPersons() {\n  try {\n    const { data } = await axios('3/trending/person/week', {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return data.results;\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["Title","styled","Image","Wrap","SmallWrap","Span","Div","Text","AdditionalTitle","List","AdditionalLink","Link","StyledContainer","ToastContainer","Video","CardLink","CardBottom","CardTitle","Rating","MovieCard","image","id","title","poster","rating","location","useLocation","to","state","from","src","alt","width","value","size","color","Math","round","MoviesCardsList","movies","map","poster_path","vote_average","Card","Form","Input","Button","SearchForm","showMovies","notifyAboutWhitespace","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","onSubmit","e","preventDefault","target","elements","query","trim","reset","type","name","autoComplete","required","Pagination","ReactPaginate","useState","setMovies","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","queryParam","get","pageParam","pageCount","setPageCount","useEffect","fetchMoviesOnSearch","getMovieByQuery","arrayOfMovies","newPageCount","total_pages","results","length","notifyAboutWrongQuery","arrayOfMovieTitles","release_date","window","scrollTo","top","behavior","page","Loader","previousLabel","nextLabel","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","breakLabel","breakClassName","breakLinkClassName","marginPagesDisplayed","pageRangeDisplayed","disableInitialCallback","onPageChange","event","selected","containerClassName","activeClassName","forcePage","axios","API_KEY","getTrendingMovies","params","api_key","data","console","error","getOneMovieById","append_to_response","getMovieActors","cast","getMovieReviews","getTrendingPersons"],"sourceRoot":""}